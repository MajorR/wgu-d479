// Variables
$primary-color: #86acaf; // Ocean Blue (from island map)
$secondary-color: #f6a300; // Sandy Beach (from island map)
$accent-color: #e4a58c; // Terracotta (from volcano in map)
$light-color: #f8fff0; // Soft Tropical White
$dark-color: #947e00; // Forest Green (from island map)
$text-color: #333;
$font-primary: 'Poppins', sans-serif;
$font-secondary: 'Playfair Display', serif;
$breakpoint-sm: 576px;
$breakpoint-md: 768px;
$breakpoint-lg: 992px;
$breakpoint-xl: 1200px;
$container-padding: 15px;
$border-radius: 5px;
$box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
$transition: all 0.3s ease;

// Reset & Base Styles
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: $font-primary;
  line-height: 1.6;
  color: $text-color;
  background-color: $light-color;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%2386acaf' fill-opacity='0.05'%3E%3Cpath d='M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 20.83l2.83-2.83 1.41 1.41L1.41 22.24H0v-1.41zM0 3.07l2.83-2.83 1.41 1.41L1.41 4.48H0V3.07zm15.66 18.59l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm-15.66-15.66l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V5.99zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V5.99zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V5.99zm-15.66 30.34l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zM15.66 5.99l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V5.99zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V5.99zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V5.99zM0 36.34l2.83-2.83 1.41 1.41L1.41 37.75H0v-1.41zM0 18.58l2.83-2.83 1.41 1.41L1.41 19.99H0v-1.41zm0-17.76l2.83-2.83 1.41 1.41L1.41 2.24H0V.82zM18.49 36.34l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm-15.66-17.76l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41v-1.41zm-15.66-17.76l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V.82zm15.66 0l2.83-2.83 1.41 1.41-2.83 2.83h-1.41V.82zM0 34.09l2.83-2.83 1.41 1.41L1.41 35.5H0v-1.41zm0-17.76l2.83-2.83 1.41 1.41L1.41 17.74H0v-1.41zm0-17.76l2.83-2.83 1.41 1.41L1.41-.01H0v-1.41z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

img {
  max-width: 100%;
  height: auto;
}

a {
  color: $primary-color;
  text-decoration: none;
  transition: $transition;

  &:hover {
    color: darken($primary-color, 10%);
  }
}

ul {
  list-style: none;
}

.container {
  width: 100%;
  margin: 0 auto;
  padding: 0 $container-padding;
}

// Typography
h1, h2, h3, h4, h5, h6 {
  font-family: $font-secondary;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 1rem;
  color: $dark-color;
}

h1 {
  font-size: 2rem;

  @media (min-width: $breakpoint-md) {
    font-size: 2.5rem;
  }
}

h2 {
  font-size: 1.75rem;

  @media (min-width: $breakpoint-md) {
    font-size: 2rem;
  }
}

h3 {
  font-size: 1.5rem;
}

p {
  margin-bottom: 1rem;
}

// Buttons
.btn {
  display: inline-block;
  padding: 0.75rem 1.5rem;
  background-color: $primary-color;
  color: white;
  border: none;
  border-radius: $border-radius;
  cursor: pointer;
  transition: $transition;
  text-align: center;
  font-weight: 600;
  box-shadow: 0 4px 0 darken($primary-color, 10%);
  position: relative;
  top: 0;

  &:hover {
    background-color: darken($primary-color, 5%);
    color: white;
    top: -2px;
    box-shadow: 0 6px 0 darken($primary-color, 10%);
  }

  &:active {
    top: 4px;
    box-shadow: 0 0 0 darken($primary-color, 10%);
  }

  &.btn-secondary {
    background-color: $secondary-color;
    box-shadow: 0 4px 0 darken($secondary-color, 10%);

    &:hover {
      background-color: darken($secondary-color, 5%);
      box-shadow: 0 6px 0 darken($secondary-color, 10%);
    }

    &:active {
      box-shadow: 0 0 0 darken($secondary-color, 10%);
    }
  }

  &.btn-accent {
    background-color: $accent-color;
    box-shadow: 0 4px 0 darken($accent-color, 10%);

    &:hover {
      background-color: darken($accent-color, 5%);
      box-shadow: 0 6px 0 darken($accent-color, 10%);
    }

    &:active {
      box-shadow: 0 0 0 darken($accent-color, 10%);
    }
  }

  &.btn-large {
    padding: 1rem 2rem;
    font-size: 1.1rem;
  }
}

// Header & Navigation
header {
  background-color: white;
  box-shadow: $box-shadow;
  position: sticky;
  top: 0;
  z-index: 1000;
  padding: 1rem 0;

  .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    h1 {
      font-size: 1.5rem;
      margin-bottom: 0;

      @media (min-width: $breakpoint-md) {
        font-size: 2rem;
      }
    }
  }

  nav {
    display: flex;
    align-items: center;

    .nav-links {
      display: none;

      @media (min-width: $breakpoint-md) {
        display: flex;
      }

      li {
        margin-left: 1.5rem;

        a {
          color: $dark-color;
          font-weight: 600;

          &:hover, &.active {
            color: $primary-color;
          }
        }
      }
    }

    .hamburger {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 30px;
      height: 21px;
      cursor: pointer;

      @media (min-width: $breakpoint-md) {
        display: none;
      }

      span {
        display: block;
        height: 3px;
        width: 100%;
        background-color: $dark-color;
        border-radius: 3px;
        transition: $transition;
      }

      &.active {
        span:nth-child(1) {
          transform: translateY(9px) rotate(45deg);
        }

        span:nth-child(2) {
          opacity: 0;
        }

        span:nth-child(3) {
          transform: translateY(-9px) rotate(-45deg);
        }
      }
    }
  }

  // Mobile Navigation
  &.mobile-nav-active {
    .nav-links {
      display: flex;
      flex-direction: column;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background-color: white;
      box-shadow: $box-shadow;
      padding: 1rem 0;

      li {
        margin: 0.5rem 0;
        text-align: center;

        a {
          display: block;
          padding: 0.5rem 1rem;
        }
      }
    }
  }
}

// Hero Section
.hero {
  background-color: $dark-color;
  color: white;
  padding: 4rem 0;
  text-align: center;
  background: linear-gradient(135deg, $dark-color, $primary-color);
  background-size: cover;
  background-position: center;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath fill='%23ffffff' fill-opacity='0.1' d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'/%3E%3C/svg%3E");
    opacity: 0.3;
    z-index: 0;
  }

  .container {
    position: relative;
    z-index: 1;
  }

  h2 {
    color: white;
    font-size: 2rem;
    margin-bottom: 1rem;

    @media (min-width: $breakpoint-md) {
      font-size: 3rem;
    }
  }

  p {
    font-size: 1.2rem;
    margin-bottom: 2rem;

    @media (min-width: $breakpoint-md) {
      font-size: 1.5rem;
    }
  }

  .btn {
    margin-top: 1rem;
  }
}

// Page Header
.page-header {
  background-color: $dark-color;
  color: white;
  padding: 3rem 0;
  text-align: center;
  background: linear-gradient(135deg, $dark-color, $primary-color);
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath fill='%23ffffff' fill-opacity='0.1' d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'/%3E%3C/svg%3E");
    opacity: 0.3;
    z-index: 0;
  }

  h2 {
    color: white;
    position: relative;
    z-index: 1;
  }
}

// Sections
section {
  padding: 3rem 0;

  h2 {
    text-align: center;
    margin-bottom: 2rem;
  }
}

// Features Section
.features {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: $breakpoint-md) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: $breakpoint-lg) {
    grid-template-columns: repeat(4, 1fr);
  }

  .feature {
    background-color: white;
    padding: 1.5rem;
    border-radius: $border-radius;
    box-shadow: $box-shadow;
    text-align: center;
    border-top: 3px solid $secondary-color;
    transition: transform 0.3s ease;

    &:hover {
      transform: translateY(-5px);
    }

    h3 {
      color: $primary-color;
    }

    &:nth-child(odd) {
      border-top-color: $primary-color;
    }

    &:nth-child(3n) {
      border-top-color: $accent-color;
    }
  }
}

// Info Grid
.info-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: $breakpoint-md) {
    grid-template-columns: repeat(2, 1fr);
  }

  .info-item {
    background-color: white;
    padding: 1.5rem;
    border-radius: $border-radius;
    box-shadow: $box-shadow;
    border-left: 3px solid $accent-color;
    transition: transform 0.3s ease;

    &:hover {
      transform: translateY(-5px);
    }

    h3 {
      color: $primary-color;
      margin-bottom: 0.5rem;
    }

    &:nth-child(even) {
      border-left-color: $secondary-color;
    }
  }
}

// Accommodation Options
.accommodation-options {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: $breakpoint-md) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: $breakpoint-lg) {
    grid-template-columns: repeat(4, 1fr);
  }

  .option {
    background-color: white;
    padding: 1.5rem;
    border-radius: $border-radius;
    box-shadow: $box-shadow;
    text-align: center;

    h3 {
      color: $primary-color;
    }

    .btn {
      margin-top: 1rem;
    }
  }
}

// Transport Options
.transport-options {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: $breakpoint-md) {
    grid-template-columns: repeat(3, 1fr);
  }

  .option {
    background-color: white;
    padding: 1.5rem;
    border-radius: $border-radius;
    box-shadow: $box-shadow;

    h3 {
      color: $primary-color;
    }
  }
}

// Booking Form
.booking-form {
  background-color: white;
  padding: 2rem;
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  max-width: 800px;
  margin: 0 auto;

  form {
    display: grid;
    gap: 1.5rem;

    .form-group {
      display: flex;
      flex-direction: column;

      label {
        margin-bottom: 0.5rem;
        font-weight: 600;
      }

      input, select, textarea {
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: $border-radius;
        font-family: $font-primary;

        &:focus {
          outline: none;
          border-color: $primary-color;
        }
      }
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;

      @media (min-width: $breakpoint-md) {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    button {
      justify-self: start;
    }
  }
}

// Experience Categories
.category-nav {
  margin-bottom: 2rem;

  ul {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;

    li {
      a {
        display: block;
        padding: 0.5rem 1rem;
        background-color: white;
        border-radius: $border-radius;
        box-shadow: $box-shadow;
        color: $dark-color;
        font-weight: 600;

        &:hover {
          background-color: $primary-color;
          color: white;
        }
      }
    }
  }
}

// Experience Cards
.experiences-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: $breakpoint-md) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: $breakpoint-lg) {
    grid-template-columns: repeat(4, 1fr);
  }

  .experience-card {
    background-color: white;
    padding: 1.5rem;
    border-radius: $border-radius;
    box-shadow: $box-shadow;
    text-align: center;

    h3 {
      color: $primary-color;
    }

    .btn {
      margin-top: 1rem;
    }
  }
}

// Book Experience Section
.book-experience {
  background-color: $primary-color;
  color: white;
  text-align: center;

  h2, p {
    color: white;
  }

  .btn {
    background-color: white;
    color: $primary-color;
    margin-top: 1rem;

    &:hover {
      background-color: $light-color;
    }
  }
}

// FAQ Sections
.faq-list {
  display: grid;
  gap: 1.5rem;

  .faq-item {
    background-color: white;
    border-radius: $border-radius;
    box-shadow: $box-shadow;
    overflow: hidden;

    h3 {
      padding: 1.5rem;
      margin: 0;
      cursor: pointer;
      position: relative;

      &::after {
        content: '+';
        position: absolute;
        right: 1.5rem;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.5rem;
      }

      &.active::after {
        content: '-';
      }
    }

    .faq-answer {
      padding: 0 1.5rem 1.5rem;
    }
  }
}

// Contact Section
.contact-section {
  background-color: $light-color;
  text-align: center;

  .contact-options {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    max-width: 800px;
    margin: 2rem auto 0;

    @media (min-width: $breakpoint-md) {
      grid-template-columns: repeat(2, 1fr);
    }

    .contact-option {
      background-color: white;
      padding: 1.5rem;
      border-radius: $border-radius;
      box-shadow: $box-shadow;

      h3 {
        color: $primary-color;
      }
    }
  }
}

// Footer
footer {
  background-color: $dark-color;
  color: white;
  padding: 3rem 0 1.5rem;

  h2, h3 {
    color: white;
  }

  .footer-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2rem;

    @media (min-width: $breakpoint-md) {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .footer-links {
    ul {
      li {
        margin-bottom: 0.5rem;

        a {
          color: $light-color;

          &:hover {
            color: $secondary-color;
          }
        }
      }
    }
  }

  .copyright {
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 1.5rem;
    font-size: 0.9rem;
  }
}

// JavaScript Classes
.mobile-nav-active {
  overflow: hidden;

  .hamburger {
    span:nth-child(1) {
      transform: translateY(9px) rotate(45deg);
    }

    span:nth-child(2) {
      opacity: 0;
    }

    span:nth-child(3) {
      transform: translateY(-9px) rotate(-45deg);
    }
  }

  .nav-links {
    display: flex !important;
    flex-direction: column;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: white;
    box-shadow: $box-shadow;
    padding: 1rem 0;

    li {
      margin: 0.5rem 0;
      text-align: center;

      a {
        display: block;
        padding: 0.5rem 1rem;
      }
    }
  }
}

// Island Map Styles
.map-section {
  padding: 2rem 0;
  background-color: #89abac; // Ocean color from island map
  position: relative;

  .container {
    display: flex;
    flex-direction: column;
    position: relative;

    @media (min-width: $breakpoint-lg) {
      flex-direction: row;
    }
  }

  // Filters toggle button (mobile only)
  .filters-toggle {
    display: block;
    margin-bottom: 1rem;
    z-index: 10;

    @media (min-width: $breakpoint-lg) {
      display: none; // Hide on desktop
    }

    #filters-toggle-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: white;
      color: $dark-color;
      box-shadow: $box-shadow;
      padding: 0.5rem 1rem;
      border-radius: $border-radius;
      font-weight: 600;

      .filter-icon {
        margin-right: 0.5rem;
      }
    }
  }

  // Adjust container padding for desktop to accommodate fixed sidebar
  @media (min-width: $breakpoint-lg) {
    .map-section .container {
      padding-left: 0;
    }
  }

  // Filters sidebar
  .filters-sidebar {
    background-color: white;
    padding: 1.5rem;
    box-shadow: $box-shadow;
    align-self: start;
    width: 100%;
    z-index: 100;
    display: flex;
    flex-direction: column;
    max-height: 100%;

    // Mobile styles
    @media (max-width: $breakpoint-lg - 1px) {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      max-height: 100vh;
      border-radius: 0;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      overflow-y: auto;

      &.active {
        transform: translateX(0);
      }
    }

    // Desktop styles
    @media (min-width: $breakpoint-lg) {
      position: fixed;
      top: 80px; // Height of the header
      left: 0;
      bottom: 0;
      width: 280px;
      border-radius: 0;
      border-right: 1px solid #eee;
      max-height: none;
      overflow-y: auto;
    }

    .filters-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #eee;

      h3 {
        margin-bottom: 0;
        color: $primary-color;
        font-size: 1.3rem;
      }

      .toggle-all-container {
        display: flex;
        align-items: center;
        flex-grow: 1;

        .toggle-all-checkbox {
          appearance: none;
          -webkit-appearance: none;
          width: 1.2rem;
          height: 1.2rem;
          border: 2px solid #ccc;
          border-radius: 3px;
          position: relative;
          cursor: pointer;
          margin-right: 0.75rem;

          &:checked {
            background-color: $primary-color;
            border-color: $primary-color;

            &::after {
              content: '✓';
              position: absolute;
              color: white;
              font-size: 0.8rem;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
            }
          }

          &:indeterminate {
            background-color: $primary-color;
            border-color: $primary-color;

            &::after {
              content: '';
              position: absolute;
              width: 60%;
              height: 2px;
              background-color: white;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
            }
          }

          &:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba($primary-color, 0.3);
          }
        }

        .toggle-all-label {
          font-weight: 600;
          cursor: pointer;
        }
      }

      .filters-close-btn {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: $text-color;
        padding: 0.25rem 0.5rem;
        line-height: 1;

        @media (max-width: $breakpoint-lg - 1px) {
          display: block;
        }
      }
    }

    .category-sidebar {
      display: grid;
      gap: 0.75rem;
      flex-grow: 1;
      overflow-y: auto;

      .loading-message {
        color: $text-color;
        font-style: italic;
      }

      .category-item {
        margin-bottom: 0.75rem;
        border-bottom: 1px solid #f0f0f0;

        .category-header {
          display: flex;
          align-items: center;
          padding: 0.75rem;
          cursor: pointer;
          background-color: white !important; /* Override inline styles */
          color: $text-color !important; /* Override inline styles */
          transition: all 0.2s ease;

          &:hover {
            background-color: #f8f8f8 !important;
          }

          .category-toggle {
            margin-right: 0.75rem;
            appearance: none;
            -webkit-appearance: none;
            width: 1.2rem;
            height: 1.2rem;
            border: 2px solid #ccc;
            border-radius: 3px;
            position: relative;
            cursor: pointer;

            &:checked {
              background-color: $primary-color;
              border-color: $primary-color;

              &::after {
                content: '✓';
                position: absolute;
                color: white;
                font-size: 0.8rem;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
              }
            }

            &:focus {
              outline: none;
              box-shadow: 0 0 0 2px rgba($primary-color, 0.3);
            }
          }

          .category-icon {
            margin-right: 0.75rem;
            font-size: 1.2rem;
            width: 1.5rem;
            text-align: center;
            height: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            //filter: grayscale(100%);
          }

          .category-name {
            flex-grow: 1;
            font-weight: 600;
          }

          .category-expand {
            margin-left: 0.5rem;
            transition: transform 0.2s ease;
            color: #999;
            font-size: 0.8rem;

            &.expanded {
              transform: rotate(180deg);
            }
          }
        }

        .subcategories {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease;
          background-color: #f9f9f9;

          &.expanded {
            max-height: 500px; // Arbitrary large value
          }

          .subcategory-item {
            display: flex;
            align-items: center;
            padding: 0.6rem 0.75rem 0.6rem 2.25rem;
            border-top: 1px solid #f0f0f0;
            transition: background-color 0.2s ease;

            &:hover {
              background-color: #f0f0f0;
            }

            .subcategory-toggle {
              margin-right: 0.75rem;
              appearance: none;
              -webkit-appearance: none;
              width: 1rem;
              height: 1rem;
              border: 2px solid #ccc;
              border-radius: 3px;
              position: relative;
              cursor: pointer;

              &:checked {
                background-color: $primary-color;
                border-color: $primary-color;

                &::after {
                  content: '✓';
                  position: absolute;
                  color: white;
                  font-size: 0.7rem;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                }
              }

              &:focus {
                outline: none;
                box-shadow: 0 0 0 2px rgba($primary-color, 0.3);
              }
            }

            .subcategory-icon {
              margin-right: 0.75rem;
              font-size: 1rem;
              width: 1.25rem;
              text-align: center;
              filter: grayscale(100%);
            }

            .subcategory-name {
              flex-grow: 1;
              font-size: 0.9rem;
            }
          }
        }
      }
    }

    .filters-footer {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #eee;
      display: none; // Hidden by default

      @media (max-width: $breakpoint-lg - 1px) {
        display: block; // Show on mobile
      }

      #filters-apply-btn {
        width: 100%;
      }
    }
  }

  // Main content area
  .map-content {
    width: 100%;
    height: 100%;
    overflow: hidden;

    @media (min-width: $breakpoint-lg) {
      flex-direction: row;
      gap: 2rem;
      margin-left: 280px; // Same as sidebar width
    }
  }

  // Map container
  .map-container {
    background-color: #89abac; // Ocean color from island map
    padding: 1rem;
    border-radius: $border-radius;
    position: relative;
    overflow: hidden;
    flex: 1;

    .island-map {
      position: relative;
      width: 100%;
      height: 0;
      //padding-bottom: 125%; // Adjust based on the aspect ratio of your SVG

      @media (min-width: $breakpoint-lg) {
        padding-bottom: 100%; // Adjust for desktop
      }

      #island-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
    }

    .map-overlays {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;

      .map-marker {
        position: absolute;
        width: 30px;
        height: 30px;
        margin-left: -15px;
        margin-top: -15px;
        background-color: $primary-color;
        border: 2px solid white;
        border-radius: 50%;
        cursor: pointer;
        pointer-events: auto;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);

        &:hover {
          transform: scale(1.2);
          box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5), 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .marker-icon {
          font-size: 16px;
          line-height: 1;
          color: black;
          mix-blend-mode: difference;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          text-align: center;
        }
      }
    }
  }

  // Place details
  .place-details {
    background-color: white;
    padding: 1.5rem;
    border-radius: $border-radius;
    box-shadow: $box-shadow;
    margin-top: 2rem;

    @media (min-width: $breakpoint-lg) {
      margin-top: 0;
      width: 350px;
      align-self: flex-start;
      position: sticky;
      top: 100px; // Adjust based on header height
      max-height: calc(100vh - 150px); // Adjust based on header and footer
      overflow-y: auto;
    }

    h3 {
      color: $primary-color;
      margin-bottom: 1rem;
    }

    .details-content {
      display: grid;
      gap: 1rem;

      @media (min-width: $breakpoint-md) and (max-width: $breakpoint-lg - 1px) {
        grid-template-columns: repeat(2, 1fr);
      }

      .detail-item {
        margin-bottom: 0.5rem;

        h4 {
          font-size: 1rem;
          color: $dark-color;
          margin-bottom: 0.25rem;
        }

        p {
          margin-bottom: 0;
        }
      }

      .detail-description {
        grid-column: 1 / -1;
      }
    }
  }
}

// Utility Classes
.text-center {
  text-align: center;
}

.mt-1 { margin-top: 0.5rem; }
.mt-2 { margin-top: 1rem; }
.mt-3 { margin-top: 1.5rem; }
.mt-4 { margin-top: 2rem; }
.mt-5 { margin-top: 3rem; }

.mb-1 { margin-bottom: 0.5rem; }
.mb-2 { margin-bottom: 1rem; }
.mb-3 { margin-bottom: 1.5rem; }
.mb-4 { margin-bottom: 2rem; }
.mb-5 { margin-bottom: 3rem; }
